
----------
kfleming    Date: Sun Oct 21 14:36:47 EDT 2012  CSN: CSN-mmm-2
                  Sun Oct 21 18:36:47 UTC 2012


Directory config/pm/mmm
 mmm_exe.apm               Locally Added               0 

Directory modules/mmm
 software/                 Locally Added               0 

Directory modules/mmm/software
 Simulator/                Locally Added               0 

Directory modules/mmm/software/Simulator
 cLib.h                    Locally Added               0 
 runTests.pl               Locally Added               0 
 generateMatrices.c        Locally Added               0 
 instructions.h            Locally Added               0 
 cLibSimulator.c           Locally Added               0 
 instructionParameters.h   Locally Added               0 
 GoodAlgo.c                Locally Added               0 
 README                    Locally Added               0 
 Makefile                  Locally Added               0 
 BrainDeadAlgo.c           Locally Added               0 
 cLibReal.c                Locally Added               0 
 matrixPointers.h          Locally Added               0 

Directory modules/mmm/software
 TestCPack.bsv             Locally Added               0 
 storeLoad.c               Locally Added               0 

Directory modules/mmm
 hardware/                 Locally Added               0 

Directory modules/mmm/hardware
 Simulator/                Locally Added               0 

Directory modules/mmm/hardware/Simulator
 MultiplierFunctionalSimulator.bsv Locally Added               0 
 SystemSimulatorBackup.bsv Locally Added               0 
 SystemSimulator.bsv       Locally Added               0 

Directory modules/mmm/hardware
 FunctionalUnit/           Locally Added               0 

Directory modules/mmm/hardware/FunctionalUnit
 SimpleFunctionalUnit.bsv  Locally Added               0 
 SFUTestBench.bsv          Locally Added               0 
 FunctionalUnit.bsv        Locally Added               0 
 mmm-functional-unit.awb   Locally Added               0 

Directory modules/mmm/hardware
 Controller/               Locally Added               0 

Directory modules/mmm/hardware/Controller
 mmm-controller.awb        Locally Added               0 
 SimpleController.rrr      Locally Added               0 
 SimpleController.bsv      Locally Added               0 

Directory modules/mmm/hardware
 FUNetwork/                Locally Added               0 

Directory modules/mmm/hardware/FUNetwork
 mmm-functional-unit-network.awb Locally Added               0 
 SimpleFUNetwork.bsv       Locally Added               0 

Directory modules/mmm/hardware
 MCDBRAM/                  Locally Added               0 

Directory modules/mmm/hardware/MCDBRAM
 mcd_bram_interface.v      Locally Added               0 
 mcd_bram.v                Locally Added               0 
 MCDBRAM.bsv               Locally Added               0 
 MCDBRAMTestBench.bsv      Locally Added               0 

Directory modules/mmm/hardware
 Common/                   Locally Added               0 

Directory modules/mmm/hardware/Common
 common.awb                Locally Added               0 
 Common.bsv                Locally Added               0 
 MultPrim.bsv              Locally Added               0 
 mult.v                    Locally Added               0 
 Complex16.bsv             Locally Added               0 
 MultPrimSynth.bsv         Locally Added               0 
 Utils.bsv                 Locally Added               0 
 DebugFlags.bsv            Locally Added               0 
 Parameters.bsv            Locally Added               0 
 Interfaces.bsv            Locally Added               0 
 Types.bsv                 Locally Added               0 

Directory modules/mmm/hardware
 BRAMTarget/               Locally Added               0 

Directory modules/mmm/hardware/BRAMTarget
 InstructionTranslator.bsv Locally Added               0 
 BRAMModel.v               Locally Added               0 
 BRAMInitiatorWires.bsv    Locally Added               0 
 BRAMInitiator.v           Locally Added               0 
 BRAMModel.bsv             Locally Added               0 
 BRAMTargetWires.bsv       Locally Added               0 
 PPCInterface.bsv          Locally Added               0 
 BRAMInitiator.bsv         Locally Added               0 

Directory modules/mmm/hardware
 PLBMaster/                Locally Added               0 

Directory modules/mmm/hardware/PLBMaster
 PLBSlave.bsv              Locally Added               0 
 PLBMaster.bsv             Locally Added               0 
 PLBMasterMagic.bsv        Locally Added               0 
 PLBModel.bsv              Locally Added               0 
 PLBMasterBackup.bsv       Locally Added               0 
 PLBMaster_backupPPC.bsv   Locally Added               0 
 PLBMasterWires.bsv        Locally Added               0 
 memory-unit.awb           Locally Added               0 

Directory modules/mmm/hardware
 Feeder/                   Locally Added               0 

Directory modules/mmm/hardware/Feeder
 refhw.v                   Locally Added               0 
 BRAMFeeder.bsv            Locally Added               0 
 PPCFeeder.bsv             Locally Added               0 
 PPCModel.bsv              Locally Added               0 
 SimpleFeeder.bsv          Locally Added               0 

Directory modules/mmm/hardware
 MemorySwitch/             Locally Added               0 

Directory modules/mmm/hardware/MemorySwitch
 mmm-memory-switch.awb     Locally Added               0 
 memory.cpp                Locally Added               0 
 memory.rrr                Locally Added               0 
 SimpleMemorySwitch.bsv    Locally Added               0 
 memory.h                  Locally Added               0 

Directory modules/mmm/hardware
 AlternateFuncUnit/        Locally Added               0 

Directory modules/mmm/hardware/AlternateFuncUnit
 bram_fu.v                 Locally Added               0 
 Multiplier.bsv            Locally Added               0 
 Feeder.bsv                Locally Added               0 
 multiply.v                Locally Added               0 
 multiplyAdder.v           Locally Added               0 
 FuncUnit.bsv              Locally Added               0 
 software/                 Locally Added               0 

Directory modules/mmm/hardware/AlternateFuncUnit/software
 cLib.h                    Locally Added               0 
 algo.c                    Locally Added               0 
 TestApp_Memory.c          Locally Added               0 
 TestApp_Memory_LinkScr.ld Locally Added               0 
 cLibReal.c                Locally Added               0 

Directory modules/mmm/hardware/AlternateFuncUnit
 Bram.bsv                  Locally Added               0 
 DebugFlags.bsv            Locally Added               0 
 Parameters.bsv            Locally Added               0 
 Interfaces.bsv            Locally Added               0 
 Types.bsv                 Locally Added               0 

Directory modules/mmm/hardware
 FPGA/                     Locally Added               0 

Directory modules/mmm/hardware/FPGA
 Multiplier.bsv            Locally Added               0 
 connected-application-test.cpp Locally Added               0 
 mkmultiplier.v            Locally Added               0 
 MultiplierBackup.bsv      Locally Added               0 
 connected-application-test.h Locally Added               0 
 mkmultiplierbackup.v      Locally Added               0 
 connected-application-test.awb Locally Added               0 
 connected-application-test.bsv Locally Added               0 
 instructions.h            Locally Added               0 
 instructionParameters.h   Locally Added               0 
 multiply.dic              Locally Added               0 
 matrixPointers.h          Locally Added               0 


First cut of matrix-multiply code.  Compiles, but does not completely work...

----------
kfleming    Date: Sun Oct 21 15:37:49 EDT 2012  CSN: CSN-mmm-3
                  Sun Oct 21 19:37:49 UTC 2012


Directory modules/mmm/hardware/FunctionalUnit
 FunctionalUnit.bsv        Locally Modified            2 

Directory modules/mmm/hardware/Controller
 SimpleController.bsv      Locally Modified            2 

Directory modules/mmm/hardware/FUNetwork
 SimpleFUNetwork.bsv       Locally Modified            2 

Directory modules/mmm/hardware/Common
 DebugFlags.bsv            Locally Modified            2 


Fixed deadlock in control relay.

----------
kfleming    Date: Sun Oct 21 15:57:18 EDT 2012  CSN: CSN-mmm-4
                  Sun Oct 21 19:57:18 UTC 2012


Directory config/pm/mmm
 mmm_acp.apm               Locally Added               0 


Added a target for the acp.

----------
kfleming    Date: Thu Oct 25 19:03:41 EDT 2012  CSN: CSN-mmm-5
                  Thu Oct 25 23:03:41 UTC 2012


Directory modules/mmm/hardware/FunctionalUnit
 SimpleFunctionalUnit.bsv  Locally Modified            4 
 FunctionalUnit.bsv        Locally Modified            4 
 mmm-functional-unit.awb   Locally Modified            4 

Directory modules/mmm/hardware/Common
 Utils.bsv                 Locally Modified            4 
 DebugFlags.bsv            Locally Modified            4 
 Types.bsv                 Locally Modified            4 

Directory modules/mmm/hardware/PLBMaster
 PLBMasterMagic.bsv        Locally Modified            4 
 memory-unit.awb           Locally Modified            4 

Directory modules/mmm/hardware/FPGA
 Multiplier.bsv            Locally Modified            4 
 connected-application-test.cpp Locally Modified            4 


A few refinements to mmm.

1) Removed spurious parameter to functional unit.
2) Added printfs to assist in debugging.
3) Added c code for multiple back-to-back runs.

Currently the mmm code will deadlock if not 

1) compiled with TRACE=1
2) run with --tr=1

This mode of execution slows the first run (100s of seconds), but
subsequent runs will fit in cache.


----------
kfleming    Date: Tue Nov  6 12:14:01 EST 2012  CSN: CSN-mmm-6
                  Tue Nov  6 17:14:01 UTC 2012


Directory modules/mmm/hardware/FunctionalUnit
 FunctionalUnit.bsv        Locally Modified            5 

Directory modules/mmm/hardware/Controller
 mmm-controller.awb        Locally Modified            5 
 StoredController.rrr      Locally Added               0 
 StoredController.bsv      Locally Added               0 
 mmm-stored-controller.awb Locally Added               0 

Directory modules/mmm/hardware/Common
 Types.bsv                 Locally Modified            5 

Directory modules/mmm/hardware/MemorySwitch
 mmm-memory-switch.awb     Locally Modified            5 
 SimpleMemorySwitch.bsv    Locally Modified            5 

Directory modules/mmm/hardware/FPGA
 connected-application-test.cpp Locally Modified            5 
 instructions.h            Locally Modified            5 



Added a stored program version of the mmm engine. 

----------
kfleming    Date: Thu Nov  8 09:35:29 EST 2012  CSN: CSN-mmm-7
                  Thu Nov  8 14:35:29 UTC 2012


Directory config/pm/mmm
 mmm_ml605.apm             Locally Added               0 

Directory modules/mmm/hardware/FunctionalUnit
 FunctionalUnit.bsv        Locally Modified            6 


Added mmm target for ml605.

----------
kfleming    Date: Tue Feb 12 21:32:13 EST 2013  CSN: CSN-mmm-9
                  Wed Feb 13 02:32:13 UTC 2013


Directory config/pm
 cryptosorter/             Locally Added               0 

Directory config/pm/cryptosorter
 cryptosorter_exe.apm      Locally Added               0 

Directory modules
 cryptosorter/             Locally Added               0 

Directory modules/cryptosorter
 ctrl/                     Locally Added               0 
 SortTree/                 Locally Added               0 

Directory modules/cryptosorter/SortTree
 SynthRegFiles.bsv         Locally Added               0 
 Sort.bsv                  Locally Added               0 
 VLevelFIFOTester.bsv      Locally Added               0 
 Level1Merger.bsv          Locally Added               0 
 BRAMLevel1Merger.bsv      Locally Added               0 
 BRAMLevel2Merger.bsv      Locally Added               0 
 BRAMLevel3Merger.bsv      Locally Added               0 
 BRAMLevel4Merger.bsv      Locally Added               0 
 BRAMLevel5Merger.bsv      Locally Added               0 
 BRAMLevel6Merger.bsv      Locally Added               0 
 VLevelFIFO.bsv            Locally Added               0 
 SortTree128.bsv           Locally Added               0 
 BRAMLevel7Merger.bsv      Locally Added               0 
 BRAMLevel8Merger.bsv      Locally Added               0 
 readme                    Locally Added               0 
 SortTree256.bsv           Locally Added               0 
 SortTree16.bsv            Locally Added               0 
 SortTree64.bsv            Locally Added               0 
 sort_tree.awb             Locally Added               0 

Directory modules/cryptosorter
 readme.txt                Locally Added               0 
 Sorter/                   Locally Added               0 

Directory modules/cryptosorter/Sorter
 SimpleController.rrr      Locally Added               0 
 connected-application-test.cpp Locally Added               0 
 connected-application-test.h Locally Added               0 
 Sorter.bsv                Locally Added               0 
 connected-application-test.awb Locally Added               0 
 connected-application-test.bsv Locally Added               0 


Added the cryptosorter module.  This module won the memocode design
contest in 2008.  Some small sorts work, but large sorts are not yet
debugged.  That's up next.

----------
kfleming    Date: Tue Feb 12 22:09:58 EST 2013  CSN: CSN-mmm-10
                  Wed Feb 13 03:09:58 UTC 2013


Directory modules/cryptosorter/ctrl
 mkCtrl.bsv                Locally Added               0 
 gen_test_array.c          Locally Added               0 
 control.awb               Locally Added               0 
 Four2OneMerger.bsv        Locally Added               0 
 ref_pc/                   Locally Added               0 

Directory modules/cryptosorter/ctrl/ref_pc
 aes_core.c                Locally Added               0 
 main.c                    Locally Added               0 
 timer.h                   Locally Added               0 
 aes_core.h                Locally Added               0 
 recordio.c                Locally Added               0 
 recordio.h                Locally Added               0 

Directory modules/cryptosorter
 Common/                   Locally Added               0 

Directory modules/cryptosorter/Common
 common.awb                Locally Added               0 
 DebugFlags.bsv            Locally Added               0 
 Parameters.bsv            Locally Added               0 

Directory modules/cryptosorter
 ExternalMemory/           Locally Added               0 

Directory modules/cryptosorter/ExternalMemory
 external_memory.awb       Locally Added               0 
 ExternalMemory.bsv        Locally Added               0 
 memory.dic                Locally Added               0 
 ExternalMemoryTester.bsv  Locally Added               0 

Directory modules/cryptosorter/Sorter
 connected-application-test.cpp Locally Modified            9 


Added missing file (I somehow failed to add them previously). 


Fixed obvious token flow bug in the scratchpad memory wrapper.  With
this fix, much larger sorts are now working (up to 2^12).  These sorts
test the pass-based merge feature.

----------
kfleming    Date: Wed Feb 13 13:18:17 EST 2013  CSN: CSN-mmm-11
                  Wed Feb 13 18:18:17 UTC 2013


Directory modules/cryptosorter/ctrl
 mkCtrl.bsv                Locally Modified           10 

Directory modules/cryptosorter/Common
 Parameters.bsv            Locally Modified           10 

Directory modules/cryptosorter/ExternalMemory
 ExternalMemory.bsv        Locally Modified           10 

Directory modules/cryptosorter/Sorter
 SimpleController.rrr      Locally Modified           10 
 connected-application-test.cpp Locally Modified           10 
 Sorter.bsv                Locally Modified           10 


1) Fixed a handful of bugs in the memory system implementation.  Our
memory system was not large enough and used the wrong word
size. Additionally the core modules had a race condition wherein the
decoupling of write address and data could yield writes to the wrong
address if the memory system was too greedy in accepting data into its
buffers.

2) Added initialization routines so that we can change the data
patterns.  This allows us to control the sort fetch pattern, which may
have some effect on the prefetcher.


----------
kfleming    Date: Wed Feb 13 16:34:10 EST 2013  CSN: CSN-mmm-12
                  Wed Feb 13 21:34:10 UTC 2013


Directory config/pm/cryptosorter
 cryptosorter_banked_exe.apm Locally Added               0 
 cryptosorter_banked_ml605.apm Locally Added               0 
 cryptosorter_ml605.apm    Locally Added               0 

Directory modules/cryptosorter/ExternalMemory
 ExternalMemory.bsv        Locally Modified           11 
 memory.dic                Locally Modified           11 
 external_memory_banked.awb Locally Added               0 
 ExternalMemoryBanked.bsv  Locally Added               0 

Directory modules/cryptosorter/Sorter
 SimpleController.rrr      Locally Modified           11 
 connected-application-test.cpp Locally Modified           11 
 Sorter.bsv                Locally Modified           11 


1) Improved software test scaffolding

2) Added ML605 targets

3) The cryptosorter uses a ping-pong buffer for sorting.  Added a
banked version of the memory system to handle this case.
